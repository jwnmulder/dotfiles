#!/bin/bash

#cd "$HOME"
#yadm submodule update --recursive --init

# sparse checkout
yadm gitconfig core.sparseCheckout true
#yadm sparse-checkout set '/*' '!README.md'

cat << EOF > "$HOME/.local/share/yadm/repo.git/info/sparse-checkout"
# generated by $0
/*
!README.md
EOF

# yadm reset as otherwise 'yadm status' will show a lot of deleted files
yadm reset

# yadm checkout to activate the sparseCheckout config above
yadm checkout --quiet
